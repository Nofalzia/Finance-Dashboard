<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finance Dashboard | PKR</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Navbar -->
<nav class="gradient-bg text-white py-4 shadow-md">
  <div class="max-w-6xl mx-auto px-4 flex flex-col items-center justify-center text-center">
    <div class="flex items-center space-x-3">
      <i class="fas fa-chart-line text-2xl"></i>
      <h1 class="text-xl font-semibold">Financial Growth Dashboard</h1>
    </div>
  </div>
</nav>


  <!-- Main Content -->
  <main class="max-w-6xl mx-auto px-4 py-8">


    <!-- Calculator Section -->
    <div class="card p-6 mb-6">
      <h2 class="text-xl font-semibold mb-6 flex items-center">
        <i class="fas fa-calculator text-blue mr-2"></i>
        Growth Calculator
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <!-- Initial Investment -->
        <label class="flex flex-col">
          <span class="text-sm font-medium mb-1">Initial Investment (PKR)</span>
          <div class="input-with-icon">
            <i class="fas fa-wallet input-icon"></i>
            <input type="number" id="initial" value="100000" class="input-field">
          </div>
        </label>

        <!-- Monthly Contribution -->
        <label class="flex flex-col">
          <span class="text-sm font-medium mb-1">Monthly Contribution (PKR)</span>
          <div class="input-with-icon">
            <i class="fas fa-coins input-icon"></i>
            <input type="number" id="monthly" value="5000" class="input-field">
          </div>
        </label>

        <!-- Length of Time -->
        <label class="flex flex-col">
          <span class="text-sm font-medium mb-1">Length of Time (Years)</span>
          <div class="input-with-icon">
            <i class="fas fa-clock input-icon"></i>
            <input type="number" id="years" value="5" class="input-field">
          </div>
        </label>

        <!-- Rate of Return -->
        <label class="flex flex-col">
          <span class="text-sm font-medium mb-1">Rate of Return (%)</span>
          <div class="input-with-icon">
            <i class="fas fa-percentage input-icon"></i>
            <input type="number" id="rate" value="10" class="input-field">
          </div>
        </label>

        <!-- Variance -->
        <label class="flex flex-col md:col-span-2">
          <span class="text-sm font-medium mb-1">Variance (Â±%)</span>
          <div class="input-with-icon">
            <i class="fas fa-random input-icon"></i>
            <input type="number" id="variance" value="2" class="input-field">
          </div>
        </label>
      </div>

      <!-- Calculate Button -->
      <button onclick="calculateGrowth()" class="btn-primary mt-4 w-full md:w-1/3 px-6 py-3 text-white rounded-xl font-semibold flex items-center justify-center mx-auto">
        <i class="fas fa-chart-line mr-2"></i>
        Calculate
      </button>
    </div>

    <!-- Results and Chart -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Results Panel -->
      <div class="card p-6 lg:col-span-1">
        <h2 class="text-xl font-semibold mb-4 flex items-center">
          <i class="fas fa-file-invoice-dollar text-blue mr-2"></i>
          Results
        </h2>
        <div id="resultCard" class="hidden grid grid-cols-2 gap-4">
          <div class="result-box result-blue">
            <p class="text-xs text-gray">Final Balance</p>
            <p id="finalValue" class="text-lg font-bold text-blue">PKR 0</p>
          </div>
          <div class="result-box result-green">
            <p class="text-xs text-gray">Return Earned</p>
            <p id="ReturnEarned" class="text-lg font-bold text-green">PKR 0</p>
          </div>
          <div class="result-box result-gray">
            <p class="text-xs text-gray">Total Invested</p>
            <p id="totalInvested" class="text-lg font-bold text-gray">PKR 0</p>
          </div>
          <div class="result-box result-purple">
            <p class="text-xs text-gray">ROI</p>
            <p id="roi" class="text-lg font-bold text-purple">0%</p>
          </div>
        </div>
        <div id="noResult" class="text-center py-8 text-gray">
          <i class="fas fa-calculator text-4xl text-gray-300 mb-3"></i>
          <p>Enter values and calculate to see results</p>
        </div>
      </div>

      <!-- Chart -->
      <div class="card p-6 lg:col-span-2">
        <h2 class="text-xl font-semibold mb-4 flex items-center">
          <i class="fas fa-chart-area text-blue mr-2"></i>
          Investment Projection
        </h2>
        <div class="tabs">
          <div class="tab active" onclick="changeTab('projection')">Projection</div>
          <div class="tab" onclick="changeTab('comparison')">Comparison</div>
        </div>
        <div class="relative w-full" style="height:400px;">
          <canvas id="growthChart"></canvas>
        </div>
      </div>
    </div>
  </main>

  <script>
    let chart;
    let currentTab = 'projection';
    
    // Initialize the chart with empty data
    function initChart() {
      const ctx = document.getElementById('growthChart').getContext('2d');
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: [],
          datasets: [
            {
              label: 'Estimated Growth',
              data: [],
              borderColor: '#2563eb',
              backgroundColor: 'rgba(37, 99, 235, 0.05)',
              fill: true,
              tension: 0.3,
              pointBackgroundColor: '#2563eb',
              pointRadius: 0,
              pointHoverRadius: 4
            },
            {
              label: 'High Estimate (+Variance)',
              data: [],
              borderColor: '#10b981',
              borderDash: [5, 5],
              fill: false,
              tension: 0.3,
              pointRadius: 0
            },
            {
              label: 'Low Estimate (-Variance)',
              data: [],
              borderColor: '#ef4444',
              borderDash: [5, 5],
              fill: false,
              tension: 0.3,
              pointRadius: 0
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false,
              callbacks: {
                label: function(context) {
                  return context.dataset.label + ': PKR ' + context.parsed.y.toLocaleString();
                }
              }
            },
            legend: {
              position: 'bottom',
              labels: {
                usePointStyle: true,
                padding: 20
              }
            }
          },
          interaction: {
            mode: 'nearest',
            axis: 'x',
            intersect: false
          },
          scales: {
            x: {
              grid: {
                display: false
              },
              title: {
                display: true,
                text: 'Years'
              }
            },
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              },
              ticks: {
                callback: function(value) {
                  return 'PKR ' + value.toLocaleString();
                }
              }
            }
          }
        }
      });
    }

    function calculateGrowth() {
      const initial = parseFloat(document.getElementById("initial").value);
      const monthly = parseFloat(document.getElementById("monthly").value);
      const years = parseInt(document.getElementById("years").value);
      const rate = parseFloat(document.getElementById("rate").value) / 100;
      const variance = parseFloat(document.getElementById("variance").value) / 100;

      const days = years * 365;
      const dailyRate = rate / 365;

      let labels = [];
      let dataMain = [];
      let dataHigh = [];
      let dataLow = [];

      let valueMain = initial;
      let valueHigh = initial;
      let valueLow = initial;

      for (let day = 1; day <= days; day++) {
        valueMain = (valueMain + monthly / 30) * (1 + dailyRate);
        valueHigh = (valueHigh + monthly / 30) * (1 + (dailyRate + variance / 365));
        valueLow = (valueLow + monthly / 30) * (1 + Math.max(0, dailyRate - variance / 365));

        if (day % 365 === 0) {
          labels.push("Year " + (day / 365));
          dataMain.push(valueMain);
          dataHigh.push(valueHigh);
          dataLow.push(valueLow);
        }
      }

      // Update chart data
      chart.data.labels = labels;
      chart.data.datasets[0].data = dataMain;
      chart.data.datasets[1].data = dataHigh;
      chart.data.datasets[2].data = dataLow;
      chart.update();

      // Update results
      const totalInvested = initial + (monthly * 12 * years);
      const ReturnEarned = valueMain - totalInvested;
      const roi = ((valueMain - totalInvested) / totalInvested) * 100;
      
      document.getElementById("finalValue").textContent = "PKR " + Math.round(valueMain).toLocaleString();
      document.getElementById("totalInvested").textContent = "PKR " + Math.round(totalInvested).toLocaleString();
      document.getElementById("ReturnEarned").textContent = "PKR " + Math.round(ReturnEarned).toLocaleString();
      document.getElementById("roi").textContent = roi.toFixed(1) + "%";
      
      document.getElementById("resultCard").classList.remove("hidden");
      document.getElementById("noResult").classList.add("hidden");
    }

    function changeTab(tabName) {
      currentTab = tabName;
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(tab => tab.classList.remove('active'));
      event.target.classList.add('active');
      
      // In a real app, you would update the chart based on the selected tab
      // For this example, we'll just keep the projection chart
    }

    // Calculate on page load
    document.addEventListener('DOMContentLoaded', function() {
      initChart();
      calculateGrowth();
    });
  </script>
</body>
</html>